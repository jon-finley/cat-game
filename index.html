<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feed the Cats!</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      image-rendering: pixelated;
    }

    body {
      font-family: 'Press Start 2P', cursive;
      overflow: hidden;
      background: #87CEEB;
    }

    #game {
      width: 100vw;
      height: 100vh;
      position: relative;
      background: linear-gradient(to bottom, #5C94FC 0%, #5C94FC 60%, #7CFC00 60%, #228B22 100%);
      cursor: crosshair;
    }

    /* Pixel sun */
    .sun {
      position: absolute;
      top: 40px;
      right: 80px;
      width: 80px;
      height: 80px;
      background: #FCE883;
      border-radius: 4px;
      box-shadow:
        0 0 0 8px #FCE883,
        16px 0 0 8px #FCE883,
        -16px 0 0 8px #FCE883,
        0 16px 0 8px #FCE883,
        0 -16px 0 8px #FCE883;
    }

    /* Clouds */
    .cloud {
      position: absolute;
      background: #fff;
      border-radius: 4px;
    }

    .cloud::before, .cloud::after {
      content: '';
      position: absolute;
      background: #fff;
      border-radius: 4px;
    }

    .cloud1 {
      top: 80px;
      left: 10%;
      width: 96px;
      height: 32px;
    }
    .cloud1::before { width: 48px; height: 32px; top: -24px; left: 16px; }
    .cloud1::after { width: 32px; height: 24px; top: -16px; left: 56px; }

    .cloud2 {
      top: 120px;
      left: 40%;
      width: 80px;
      height: 28px;
    }
    .cloud2::before { width: 40px; height: 28px; top: -20px; left: 12px; }
    .cloud2::after { width: 28px; height: 20px; top: -12px; left: 44px; }

    /* Prompt box */
    #prompt {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      border: 4px solid #fff;
      padding: 16px 24px;
      color: #fff;
      font-size: 14px;
      text-align: center;
      z-index: 100;
      box-shadow: 8px 8px 0 rgba(0,0,0,0.3);
    }

    #prompt .counter {
      color: #FF6B35;
      display: block;
      margin-top: 12px;
      font-size: 18px;
    }

    /* Fat orange cat - pixel art style */
    .cat {
      position: absolute;
      width: 120px;
      height: 90px;
      cursor: pointer;
      transition: transform 0.1s;
      z-index: 10;
    }

    .cat:hover {
      transform: scale(1.1);
    }

    .cat.fed {
      cursor: default;
    }

    .cat-body {
      position: absolute;
      width: 110px;
      height: 75px;
      background: #FF8C00;
      border-radius: 50%;
      bottom: 0;
      left: 5px;
      border: 4px solid #CC7000;
    }

    /* Cat belly stripe */
    .cat-body::after {
      content: '';
      position: absolute;
      width: 70px;
      height: 50px;
      background: #FFB366;
      border-radius: 50%;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
    }

    .cat-head {
      position: absolute;
      width: 55px;
      height: 50px;
      background: #FF8C00;
      border-radius: 50%;
      top: 0;
      left: 0;
      border: 4px solid #CC7000;
      z-index: 2;
    }

    /* Ears */
    .cat-head::before, .cat-head::after {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-bottom: 18px solid #FF8C00;
      top: -14px;
    }

    .cat-head::before { left: 2px; }
    .cat-head::after { right: 2px; }

    /* Eyes */
    .cat-eyes {
      position: absolute;
      top: 18px;
      left: 10px;
      width: 35px;
      display: flex;
      justify-content: space-between;
    }

    .cat-eye {
      width: 10px;
      height: 14px;
      background: #000;
      border-radius: 50%;
    }

    /* Tail */
    .cat-tail {
      position: absolute;
      width: 12px;
      height: 40px;
      background: #FF8C00;
      border: 3px solid #CC7000;
      border-radius: 6px;
      bottom: 20px;
      right: -8px;
      transform: rotate(-20deg);
      transform-origin: bottom center;
      animation: tailWag 0.5s ease-in-out infinite alternate;
    }

    /* Ragdoll cat colors */
    .cat.ragdoll .cat-body {
      background: #F5F5DC;
      border-color: #D4C4A8;
    }

    .cat.ragdoll .cat-body::after {
      background: #FFFEF0;
    }

    .cat.ragdoll .cat-head {
      background: linear-gradient(135deg, #F5F5DC 40%, #B8A88A 100%);
      border-color: #D4C4A8;
    }

    .cat.ragdoll .cat-head::before,
    .cat.ragdoll .cat-head::after {
      border-bottom-color: #A89070;
    }

    .cat.ragdoll .cat-eye {
      background: #4A90D9;
      box-shadow: inset 2px 2px 0 #2E5A8A;
    }

    .cat.ragdoll .cat-tail {
      background: linear-gradient(to bottom, #F5F5DC, #A89070);
      border-color: #D4C4A8;
    }

    /* Crazy ragdoll */
    .cat.crazy .cat-eye {
      width: 16px;
      height: 16px;
      background: #FF0000;
      box-shadow: 0 0 10px #FF0000, inset 3px 3px 0 #FFff00;
      animation: crazyEyes 0.15s infinite alternate;
    }

    .cat.crazy .cat-head {
      animation: crazyHead 0.1s infinite;
    }

    .cat.crazy .cat-tail {
      animation: crazyTail 0.08s infinite;
    }

    .cat.crazy .cat-body {
      animation: crazyBody 0.2s infinite;
    }

    @keyframes crazyEyes {
      0% { transform: scale(1); }
      100% { transform: scale(1.3); }
    }

    @keyframes crazyHead {
      0% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
      100% { transform: rotate(-5deg); }
    }

    @keyframes crazyTail {
      0% { transform: rotate(-45deg); }
      50% { transform: rotate(45deg); }
      100% { transform: rotate(-45deg); }
    }

    @keyframes crazyBody {
      0% { transform: scaleX(1); }
      50% { transform: scaleX(1.05); }
      100% { transform: scaleX(1); }
    }

    @keyframes tailWag {
      from { transform: rotate(-20deg); }
      to { transform: rotate(20deg); }
    }

    /* Walking animation */
    .cat.walking {
      animation: catBounce 0.3s ease-in-out infinite;
    }

    @keyframes catBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }

    .cat.fed .cat-tail {
      animation: happyTail 0.2s ease-in-out infinite alternate;
    }

    @keyframes happyTail {
      from { transform: rotate(-30deg); }
      to { transform: rotate(30deg); }
    }

    /* Food bowl */
    .food-bowl {
      position: absolute;
      width: 60px;
      height: 30px;
      z-index: 5;
    }

    .bowl-base {
      position: absolute;
      width: 60px;
      height: 24px;
      background: #C0C0C0;
      border-radius: 0 0 30px 30px;
      bottom: 0;
      border: 4px solid #888;
    }

    .bowl-food {
      position: absolute;
      width: 48px;
      height: 18px;
      background: #8B4513;
      border-radius: 50%;
      top: 0;
      left: 6px;
    }

    .bowl-food::before {
      content: '';
      position: absolute;
      width: 10px;
      height: 10px;
      background: #A0522D;
      border-radius: 50%;
      top: 3px;
      left: 12px;
    }

    .bowl-food::after {
      content: '';
      position: absolute;
      width: 8px;
      height: 8px;
      background: #A0522D;
      border-radius: 50%;
      top: 5px;
      left: 28px;
    }

    /* Grass tufts */
    .grass {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 40%;
      overflow: hidden;
      pointer-events: none;
    }

    .grass-tuft {
      position: absolute;
      width: 12px;
      height: 20px;
      background: #228B22;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    }

    /* Flowers */
    .flower {
      position: absolute;
      width: 16px;
      height: 16px;
      pointer-events: none;
    }

    .flower::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: radial-gradient(circle, #FFD700 30%, #FF69B4 30%, #FF69B4 60%, transparent 60%);
      border-radius: 50%;
    }

    .flower::after {
      content: '';
      position: absolute;
      width: 4px;
      height: 20px;
      background: #228B22;
      top: 14px;
      left: 6px;
    }

    /* Win screen */
    #win-screen {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #fff;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1000;
      text-align: center;
    }

    #win-screen h1 {
      font-size: 32px;
      color: #FF6B35;
      margin-bottom: 24px;
      animation: blink 0.5s infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    #win-screen p {
      font-size: 16px;
      margin-bottom: 32px;
    }

    #win-screen iframe {
      width: 80vw;
      max-width: 800px;
      height: 45vw;
      max-height: 450px;
      border: 8px solid #FF6B35;
      border-radius: 4px;
    }

    #win-screen.show-video h1,
    #win-screen.show-video p {
      display: none;
    }
  </style>
</head>
<body>
  <div id="game">
    <div class="sun"></div>
    <div class="cloud cloud1"></div>
    <div class="cloud cloud2"></div>

    <div id="prompt">
      FEED 2 ORANGE CATS<br>AND 2 RAGDOLLS!
      <span class="counter">
        <span style="color:#FF8C00">ORANGE: <span id="orange-count">0</span>/2</span>
        <span style="color:#4A90D9">RAGDOLL: <span id="ragdoll-count">0</span>/2</span>
      </span>
    </div>

    <div class="grass" id="grass"></div>
  </div>

  <div id="win-screen">
    <h1>GOOD JOB!</h1>
    <p>ALL CATS FED!</p>
    <p>HERE'S YOUR REWARD!</p>
    <div id="video-container"></div>
  </div>

  <script>
    const game = document.getElementById('game');
    const grassContainer = document.getElementById('grass');
    const orangeCountEl = document.getElementById('orange-count');
    const ragdollCountEl = document.getElementById('ragdoll-count');
    const winScreen = document.getElementById('win-screen');

    let orangeFed = 0;
    let ragdollFed = 0;
    const cats = [];
    const NUM_CATS = 12;

    // Audio context for sounds
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    let musicStarted = false;

    // 8-bit background music (extended)
    const melody = [
      // Part 1 - Main theme
      { note: 392, duration: 0.2 },  // G
      { note: 440, duration: 0.2 },  // A
      { note: 494, duration: 0.2 },  // B
      { note: 523, duration: 0.4 },  // C
      { note: 494, duration: 0.2 },  // B
      { note: 440, duration: 0.2 },  // A
      { note: 392, duration: 0.4 },  // G
      { note: 330, duration: 0.2 },  // E
      { note: 349, duration: 0.2 },  // F
      { note: 392, duration: 0.4 },  // G
      { note: 440, duration: 0.2 },  // A
      { note: 392, duration: 0.2 },  // G
      { note: 349, duration: 0.2 },  // F
      { note: 330, duration: 0.4 },  // E
      { note: 294, duration: 0.4 },  // D
      { note: 330, duration: 0.4 },  // E
      // Part 2 - Variation
      { note: 523, duration: 0.2 },  // C
      { note: 494, duration: 0.2 },  // B
      { note: 440, duration: 0.2 },  // A
      { note: 392, duration: 0.4 },  // G
      { note: 440, duration: 0.2 },  // A
      { note: 494, duration: 0.2 },  // B
      { note: 523, duration: 0.4 },  // C
      { note: 587, duration: 0.3 },  // D
      { note: 523, duration: 0.3 },  // C
      { note: 494, duration: 0.2 },  // B
      { note: 440, duration: 0.4 },  // A
      { note: 392, duration: 0.2 },  // G
      { note: 349, duration: 0.2 },  // F
      { note: 330, duration: 0.4 },  // E
      { note: 349, duration: 0.2 },  // F
      { note: 392, duration: 0.6 },  // G
      // Part 3 - Bridge
      { note: 262, duration: 0.3 },  // C low
      { note: 330, duration: 0.3 },  // E
      { note: 392, duration: 0.3 },  // G
      { note: 523, duration: 0.5 },  // C high
      { note: 494, duration: 0.2 },  // B
      { note: 440, duration: 0.2 },  // A
      { note: 392, duration: 0.2 },  // G
      { note: 349, duration: 0.2 },  // F
      { note: 330, duration: 0.4 },  // E
      { note: 294, duration: 0.4 },  // D
      { note: 262, duration: 0.4 },  // C
      { note: 294, duration: 0.2 },  // D
      { note: 330, duration: 0.2 },  // E
      { note: 392, duration: 0.6 },  // G
    ];

    const bass = [
      // Part 1
      { note: 196, duration: 0.8 },  // G
      { note: 262, duration: 0.8 },  // C
      { note: 196, duration: 0.8 },  // G
      { note: 165, duration: 0.8 },  // E
      { note: 175, duration: 0.8 },  // F
      { note: 196, duration: 0.8 },  // G
      { note: 147, duration: 0.8 },  // D
      { note: 165, duration: 0.8 },  // E
      // Part 2
      { note: 262, duration: 0.8 },  // C
      { note: 196, duration: 0.8 },  // G
      { note: 262, duration: 0.8 },  // C
      { note: 294, duration: 0.6 },  // D
      { note: 262, duration: 0.6 },  // C
      { note: 220, duration: 0.8 },  // A
      { note: 196, duration: 0.8 },  // G
      { note: 196, duration: 0.8 },  // G
      // Part 3
      { note: 131, duration: 0.9 },  // C low
      { note: 165, duration: 0.9 },  // E
      { note: 196, duration: 0.6 },  // G
      { note: 175, duration: 0.6 },  // F
      { note: 165, duration: 0.8 },  // E
      { note: 147, duration: 0.8 },  // D
      { note: 131, duration: 0.6 },  // C
      { note: 196, duration: 0.6 },  // G
    ];

    function playNote(freq, startTime, duration, type = 'square', volume = 0.15) {
      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      osc.connect(gain);
      gain.connect(audioCtx.destination);

      osc.frequency.value = freq;
      osc.type = type;

      gain.gain.setValueAtTime(volume, startTime);
      gain.gain.exponentialRampToValueAtTime(0.01, startTime + duration - 0.05);

      osc.start(startTime);
      osc.stop(startTime + duration);
    }

    function playMusic() {
      if (!musicStarted) return;

      const now = audioCtx.currentTime;
      let melodyTime = now;
      let bassTime = now;

      // Play melody
      melody.forEach(note => {
        playNote(note.note, melodyTime, note.duration, 'square', 0.12);
        melodyTime += note.duration;
      });

      // Play bass
      bass.forEach(note => {
        playNote(note.note, bassTime, note.duration, 'triangle', 0.2);
        bassTime += note.duration;
      });

      // Loop the music
      const loopDuration = melodyTime - now;
      setTimeout(playMusic, loopDuration * 1000 - 50);
    }

    function startMusic() {
      if (musicStarted) return;
      audioCtx.resume();
      musicStarted = true;
      playMusic();
    }

    // Start music on first click
    document.addEventListener('click', startMusic, { once: true });

    // Synthesize a retro meow sound for orange cats
    function playMeow() {
      const now = audioCtx.currentTime;

      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      osc.connect(gain);
      gain.connect(audioCtx.destination);

      // Start high, go higher, then drop - like "meow"
      osc.frequency.setValueAtTime(400 + Math.random() * 100, now);
      osc.frequency.linearRampToValueAtTime(600 + Math.random() * 100, now + 0.1);
      osc.frequency.linearRampToValueAtTime(300 + Math.random() * 50, now + 0.3);

      gain.gain.setValueAtTime(0.3, now);
      gain.gain.linearRampToValueAtTime(0.4, now + 0.1);
      gain.gain.linearRampToValueAtTime(0, now + 0.35);

      osc.type = 'triangle';
      osc.start(now);
      osc.stop(now + 0.35);
    }

    // Softer, higher pitched meow for ragdolls
    function playRagdollMeow() {
      const now = audioCtx.currentTime;

      // Two oscillators for a softer, more melodic sound
      const osc1 = audioCtx.createOscillator();
      const osc2 = audioCtx.createOscillator();
      const gain = audioCtx.createGain();

      osc1.connect(gain);
      osc2.connect(gain);
      gain.connect(audioCtx.destination);

      // Higher, softer "mrrp" sound
      osc1.frequency.setValueAtTime(550 + Math.random() * 50, now);
      osc1.frequency.linearRampToValueAtTime(700 + Math.random() * 50, now + 0.08);
      osc1.frequency.linearRampToValueAtTime(500 + Math.random() * 30, now + 0.25);
      osc1.frequency.linearRampToValueAtTime(450, now + 0.4);

      osc2.frequency.setValueAtTime(560 + Math.random() * 50, now);
      osc2.frequency.linearRampToValueAtTime(710 + Math.random() * 50, now + 0.08);
      osc2.frequency.linearRampToValueAtTime(510, now + 0.25);
      osc2.frequency.linearRampToValueAtTime(460, now + 0.4);

      gain.gain.setValueAtTime(0.15, now);
      gain.gain.linearRampToValueAtTime(0.25, now + 0.08);
      gain.gain.linearRampToValueAtTime(0.2, now + 0.2);
      gain.gain.linearRampToValueAtTime(0, now + 0.45);

      osc1.type = 'sine';
      osc2.type = 'triangle';
      osc1.start(now);
      osc2.start(now);
      osc1.stop(now + 0.45);
      osc2.stop(now + 0.45);
    }

    // Crazy cat sound - chaotic glitchy screech
    function playCrazyMeow() {
      const now = audioCtx.currentTime;

      // Multiple oscillators for chaos
      for (let i = 0; i < 5; i++) {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();

        osc.connect(gain);
        gain.connect(audioCtx.destination);

        const startFreq = 200 + Math.random() * 800;
        osc.frequency.setValueAtTime(startFreq, now + i * 0.05);
        osc.frequency.linearRampToValueAtTime(startFreq + Math.random() * 1000 - 500, now + i * 0.05 + 0.1);
        osc.frequency.linearRampToValueAtTime(Math.random() * 600, now + i * 0.05 + 0.2);

        gain.gain.setValueAtTime(0.15, now + i * 0.05);
        gain.gain.linearRampToValueAtTime(0.25, now + i * 0.05 + 0.05);
        gain.gain.linearRampToValueAtTime(0, now + i * 0.05 + 0.25);

        osc.type = ['square', 'sawtooth', 'triangle'][Math.floor(Math.random() * 3)];
        osc.start(now + i * 0.05);
        osc.stop(now + i * 0.05 + 0.25);
      }

      // Add a glitchy noise burst
      const noise = audioCtx.createOscillator();
      const noiseGain = audioCtx.createGain();
      noise.connect(noiseGain);
      noiseGain.connect(audioCtx.destination);
      noise.type = 'sawtooth';
      noise.frequency.setValueAtTime(80, now);
      noise.frequency.linearRampToValueAtTime(2000, now + 0.15);
      noise.frequency.linearRampToValueAtTime(100, now + 0.3);
      noiseGain.gain.setValueAtTime(0.2, now);
      noiseGain.gain.linearRampToValueAtTime(0, now + 0.35);
      noise.start(now);
      noise.stop(now + 0.35);
    }

    // Create grass tufts
    for (let i = 0; i < 50; i++) {
      const tuft = document.createElement('div');
      tuft.className = 'grass-tuft';
      tuft.style.left = Math.random() * 100 + '%';
      tuft.style.bottom = Math.random() * 30 + '%';
      tuft.style.transform = `scale(${0.5 + Math.random()})`;
      grassContainer.appendChild(tuft);
    }

    // Create flowers
    for (let i = 0; i < 15; i++) {
      const flower = document.createElement('div');
      flower.className = 'flower';
      flower.style.left = Math.random() * 95 + '%';
      flower.style.bottom = 5 + Math.random() * 35 + '%';
      game.appendChild(flower);
    }

    // Create a cat
    function createCat(id, isRagdoll = false, isCrazy = false) {
      const cat = document.createElement('div');
      let className = 'cat walking';
      if (isRagdoll) className += ' ragdoll';
      if (isCrazy) className += ' crazy';
      cat.className = className;
      cat.id = `cat-${id}`;
      cat.innerHTML = `
        <div class="cat-body"></div>
        <div class="cat-head">
          <div class="cat-eyes">
            <div class="cat-eye"></div>
            <div class="cat-eye"></div>
          </div>
        </div>
        <div class="cat-tail"></div>
      `;

      // Random starting position in the grass area
      const startX = Math.random() * (window.innerWidth - 160) + 20;
      const startY = window.innerHeight * 0.50 + Math.random() * (window.innerHeight * 0.35);

      cat.style.left = startX + 'px';
      cat.style.top = startY + 'px';

      // Ragdolls move 2x faster, crazy ragdoll moves 3x faster
      const speedMultiplier = isCrazy ? 3 : (isRagdoll ? 2 : 1);

      // Movement properties
      const catData = {
        element: cat,
        x: startX,
        y: startY,
        vx: (Math.random() - 0.5) * 1.2 * speedMultiplier,
        vy: (Math.random() - 0.5) * 0.6 * speedMultiplier,
        fed: false,
        isRagdoll: isRagdoll,
        isCrazy: isCrazy,
        speedMultiplier: speedMultiplier
      };

      cat.addEventListener('click', () => feedCat(catData));

      game.appendChild(cat);
      return catData;
    }

    // Feed a cat
    function feedCat(catData) {
      if (catData.fed) return;

      // Play different sound based on cat type
      if (catData.isCrazy) {
        playCrazyMeow();
      } else if (catData.isRagdoll) {
        playRagdollMeow();
      } else {
        playMeow();
      }
      catData.fed = true;
      catData.element.classList.remove('walking');
      catData.element.classList.add('fed');
      catData.vx = 0;
      catData.vy = 0;

      // Create food bowl
      const bowl = document.createElement('div');
      bowl.className = 'food-bowl';
      bowl.innerHTML = `
        <div class="bowl-food"></div>
        <div class="bowl-base"></div>
      `;
      bowl.style.left = (catData.x + 30) + 'px';
      bowl.style.top = (catData.y + 90) + 'px';
      game.appendChild(bowl);

      // Update the appropriate counter
      if (catData.isRagdoll) {
        ragdollFed++;
        ragdollCountEl.textContent = Math.min(ragdollFed, 2);
      } else {
        orangeFed++;
        orangeCountEl.textContent = Math.min(orangeFed, 2);
      }

      // Win condition: 2 orange AND 2 ragdolls
      if (orangeFed >= 2 && ragdollFed >= 2) {
        // Stop the music immediately
        musicStarted = false;
        audioCtx.suspend();

        setTimeout(() => {
          winScreen.style.display = 'flex';
          setTimeout(() => {
            // Embed the video with autoplay
            const videoContainer = document.getElementById('video-container');
            videoContainer.innerHTML = `
              <iframe
                src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&controls=1"
                allow="autoplay; encrypted-media"
                allowfullscreen>
              </iframe>
            `;
            winScreen.classList.add('show-video');
          }, 1500);
        }, 500);
      }
    }

    // Update cat positions
    function updateCats() {
      const minY = window.innerHeight * 0.50;
      const maxY = window.innerHeight - 120;
      const minX = 20;
      const maxX = window.innerWidth - 140;

      cats.forEach(cat => {
        if (cat.fed) return;

        // Random direction changes (speed based on cat type)
        if (Math.random() < 0.02) {
          cat.vx = (Math.random() - 0.5) * 1.5 * cat.speedMultiplier;
          cat.vy = (Math.random() - 0.5) * 0.8 * cat.speedMultiplier;
        }

        cat.x += cat.vx;
        cat.y += cat.vy;

        // Boundary checks
        if (cat.x < minX) { cat.x = minX; cat.vx *= -1; }
        if (cat.x > maxX) { cat.x = maxX; cat.vx *= -1; }
        if (cat.y < minY) { cat.y = minY; cat.vy *= -1; }
        if (cat.y > maxY) { cat.y = maxY; cat.vy *= -1; }

        // Flip cat based on direction
        cat.element.style.transform = cat.vx < 0 ? 'scaleX(-1)' : 'scaleX(1)';
        cat.element.style.left = cat.x + 'px';
        cat.element.style.top = cat.y + 'px';
      });

      requestAnimationFrame(updateCats);
    }

    // Initialize cats (half orange, half ragdoll, one crazy ragdoll)
    for (let i = 0; i < NUM_CATS; i++) {
      const isRagdoll = i >= NUM_CATS / 2;
      const isCrazy = i === NUM_CATS - 1; // Last ragdoll is crazy
      cats.push(createCat(i, isRagdoll, isCrazy));
    }

    // Start animation
    updateCats();
  </script>
</body>
</html>
